{"version":3,"file":"ng2-adsense.umd.js","sources":["../../src/lib/adsense-config.ts","../../src/lib/adsense.component.ts","../../src/lib/adsense.module.ts","../../src/lib/ng2-adsense.ts"],"names":["InjectionToken","isPlatformBrowser","Component","ChangeDetectionStrategy","Inject","PLATFORM_ID","Input","ViewChild","ElementRef","NgModule","CommonModule"],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\n\n/**\n * Set optional global default values\n */\nexport interface AdsenseConfig {\n  /** adsense account ca-pub-XXXXXXXXXXXXXXXX */\n  adClient: string;\n  /** ad slot/number */\n  adSlot: string | number;\n  /** data-ad-format default: auto */\n  adFormat: string;\n  /** ins element display style */\n  display: string;\n  /** ins element height in px */\n  width: number;\n  /** ins element width in px */\n  height: number;\n  /** used for in-feed ads */\n  layout: string;\n  /** used for in-feed ads */\n  layoutKey: string;\n  /** enable page-level ads */\n  pageLevelAds: boolean;\n  adtest: string;\n  /** used for flexible ads */\n  fullWidthResponsive: boolean;\n}\n\nexport const ADSENSE_TOKEN = new InjectionToken<AdsenseConfig>(\n  'AdsenseConfig',\n);\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  Inject,\n  Input,\n  OnDestroy,\n  OnInit,\n  ViewChild,\n  ElementRef,\n  PLATFORM_ID,\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { ADSENSE_TOKEN, AdsenseConfig } from './adsense-config';\n\n@Component({\n  selector: 'ng2-adsense,ng-adsense',\n  template: `\n    <ins\n      #ins\n      class=\"adsbygoogle {{ className }}\"\n      [style.display]=\"display\"\n      [style.width.px]=\"width\"\n      [style.height.px]=\"height\"\n      [attr.data-ad-client]=\"adClient\"\n      [attr.data-ad-slot]=\"adSlot\"\n      [attr.data-ad-format]=\"adFormat\"\n      [attr.data-ad-region]=\"adRegion\"\n      [attr.data-layout]=\"layout\"\n      [attr.data-adtest]=\"adtest\"\n      [attr.data-layout-key]=\"layoutKey\"\n      [attr.data-full-width-responsive]=\"fullWidthResponsive\"\n    >\n    </ins>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AdsenseComponent implements OnInit, AfterViewInit, OnDestroy {\n  /** adsense account ca-pub-XXXXXXXXXXXXXXXX */\n  @Input() adClient!: string;\n  /** ad slot/number */\n  @Input() adSlot!: string | number;\n  @Input() adFormat!: string;\n  /** can be manually set if you need all ads on a page to have same id page-xxx */\n  @Input() adRegion = 'page-' + Math.floor(Math.random() * 10000) + 1;\n  /** ins element display style */\n  @Input() display!: string;\n  /** ins element height in px */\n  @Input() width!: number;\n  /** ins element width in px */\n  @Input() height!: number;\n  /** used for in-feed ads */\n  @Input() layout!: string;\n  /** used for in-feed ads */\n  @Input() layoutKey!: string;\n  /** enable page-level ads */\n  @Input() pageLevelAds!: boolean;\n  /** sets up some sort of google test ad */\n  @Input() adtest!: string;\n  /* used for flexible ads */\n  @Input() fullWidthResponsive!: boolean;\n  /**\n   * classes applied to the ins element\n   */\n  @Input() className = '';\n  @ViewChild('ins', { read: ElementRef, static: true }) ins!: ElementRef;\n\n  constructor(\n    @Inject(ADSENSE_TOKEN) private config: AdsenseConfig,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Inject(PLATFORM_ID) private platform: any,\n  ) {}\n\n  ngOnInit(): void {\n    const config = this.config;\n    this.adClient = this.adClient ?? config.adClient;\n    this.adSlot = this.adSlot ?? config.adSlot;\n    this.adFormat = this.adFormat ?? config.adFormat ?? 'auto';\n    this.display = this.display ?? config.display ?? 'block';\n    this.width = this.width ?? config.width;\n    this.height = this.height ?? config.height;\n    this.layout = this.layout ?? config.layout;\n    this.layoutKey = this.layoutKey ?? config.layoutKey;\n    this.pageLevelAds = this.pageLevelAds ?? config.pageLevelAds;\n    this.adtest = this.adtest ?? config.adtest;\n    this.fullWidthResponsive = this.fullWidthResponsive ?? config.fullWidthResponsive;\n  }\n  ngOnDestroy(): void {\n    const iframe = this.ins.nativeElement.querySelector('iframe');\n    if (iframe && iframe.contentWindow) {\n      iframe.src = 'about:blank';\n      iframe.remove();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (isPlatformBrowser(this.platform)) {\n      this.push();\n    }\n  }\n\n  push(): void {\n    const p: Record<string, string | boolean> = {};\n    if (this.pageLevelAds) {\n      p.google_ad_client = this.adClient;\n      p.enable_page_level_ads = true;\n    }\n\n    if (window) {\n      try {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ((window as any).adsbygoogle = (window as any).adsbygoogle || []).push(p);\n      } catch {\n        // pass\n      }\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { AdsenseConfig, ADSENSE_TOKEN } from './adsense-config';\nimport { AdsenseComponent } from './adsense.component';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [AdsenseComponent],\n  declarations: [AdsenseComponent],\n})\nexport class AdsenseModule {\n  static forRoot(config: Partial<AdsenseConfig> = {}): ModuleWithProviders<AdsenseModule> {\n    return {\n      ngModule: AdsenseModule,\n      providers: [{ provide: ADSENSE_TOKEN, useValue: config }],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}